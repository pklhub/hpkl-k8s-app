import "../renderer.pkl"

typealias ClientType =  "LETTUCE"|"JEDIS"

open class Config {
    url: String?
    host: String?
    username: String?

    @renderer.SecretField
    password: String?

    port: UInt16?
    database: UInt16?

    timeout: Duration?
    connectTimeout: Duration?

    @renderer.NamedField{ name="client-name" }
    clientName: String?

    @renderer.NamedField{ name="client-type" }
    clientType: ClientType?

    cluster: ClusterConfig?
    ssl: SslConfig?

    jedis: JedisConfig?
    lettuce: LettuceConfig?
}

open class ClusterConfig {
    nodes: Listing<String>?
    maxRedirects: UInt16?
}

open class SslConfig {
    enabled: Boolean?
    bundle: String?
}

open class JedisConfig {
    pool: PoolConfig?
}

open class LettuceConfig {
    shutdownTimeout: Duration?
    pool: PoolConfig?
    cluster: ClusterConfig?
}

open class PoolConfig {
    enabled: Boolean?
    maxIdle: UInt32?
    minIdle: UInt32?
    maxActive: UInt32?
    maxWait: Duration?
    timeBetweenEvictionRuns: Duration?
}
